<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Blended Diffusion: Text-driven Editing of Natural Images</title>
  <link rel="icon" href="static/images/favicon.ico">
  <link rel="canonical" href="https://omriavrahami.com/blended-latent-diffusion-page" />

  <!-- Global site tag (gtag.js) - Google Analytics
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-YJE6NY298X"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-YJE6NY298X');
  </script> -->

  <!-- Meta tags -->
  <meta name="keywords" content="Blended Latent Diffusion, Text-driven image editing, Diffusion editing">
  <meta property="og:site_name" content="Blended Latent Diffusion">
  <meta property="og:title" content="Blended Latent Diffusion">
  <meta name="description" content="An efficient method for editing natural images using a text-driven approach.">
  <meta property="og:description"
    content="An efficient method for editing natural images using a text-driven approach.">
  <!-- <meta property="og:image" itemprop="image"
    content="https://omriavrahami.com/blended-diffusion-page/static/images/teaser.jpg"> -->
  <meta property="og:type" content="website" />
  <meta property="og:image:type" content="image/jpeg">
  <meta property="og:image:width" content="300">
  <meta property="og:image:height" content="300">

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" type="text/css" href="./static/slick/slick.css" />
  <link rel="stylesheet" type="text/css" href="./static/slick/slick-theme.css" />
  <link rel="stylesheet" href="./static/css/index.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script type="text/javascript" src="./static/slick/slick.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>

<body>
  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">Blended Latent Diffusion</h1>
            <div class="is-size-5 publication-authors">
              <span class="author-block">
                <a href="https://omriavrahami.com">Omri Avrahami</a><sup>1</sup>,
              </span>
              <span class="author-block">
                <a href="https://www.ohadf.com/">Ohad Fried</a><sup>2</sup>,
              </span>
              <span class="author-block">
                <a href="https://www.cs.huji.ac.il/~danix/">Dani Lischinski</a><sup>1</sup>
              </span>
            </div>

            <div class="is-size-5 publication-authors">
              <span class="author-block"><sup>1</sup>The Hebrew University of Jerusalem,</span>
              <span class="author-block"><sup>2</sup>Reichman University</span>
            </div>

            <!-- <div>
              <p style="font-size:23px;font-weight:bold;padding-top: 5px;">CVPR 2022</p>
            </div> -->

            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- PDF Link. -->
                <span class="link-block">
                  <a href="https://arxiv.org/abs/2111.14818" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                    </span>
                    <span>arXiv</span>
                  </a>
                </span>

                <!-- Video Link.
                <span class="link-block">
                  <a href="https://www.youtube.com/watch?v=MrKrnHhk8IA"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-youtube"></i>
                    </span>
                    <span>Video</span>
                  </a>
                </span> -->

                <!-- Code Link. -->
                <span class="link-block">
                  <a href="https://github.com/omriav/blended-diffusion"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="hero teaser">
    <div class="container is-max-desktop">
      <div class="hero-body">
        <div id="teaser" class="has-text-centered">
          <img style="width: 100%;" src="./static/images/teaser_slim.png" alt="Blended Latent Diffusion teaser.">
        </div>

        <h2 class="subtitle has-text-centered">
          Given an input image and a mask, <span class="method-name">Blended Latent Diffusion</span> modifies the masked
          area according to a guiding text prompt, without affecting the unmasked regions
        </h2>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">
      <!-- Abstract. -->
      <div class="columns is-centered has-text-centered">
        <div class="column is-four-fifths">
          <h2 class="title is-3">Abstract</h2>
          <div class="content has-text-justified">
            <p>
              The tremendous progress in neural image generation, coupled with the emergence of seemingly omnipotent
              vision-language models has finally enabled text-based interfaces for creating and editing images. Handling
              <i>generic</i> images requires a diverse underlying generative model, hence the latest works utilize
              diffusion models, which were shown to surpass GANs in terms of diversity. One major drawback of diffusion
              models, however, is their relatively slow inference time. In this paper, we present an accelerated
              solution to the task of <i>local</i> text-driven editing of generic images, where the desired edits are
              confined to a user-provided mask. Our solution leverages a recent text-to-image Latent Diffusion Model
              (LDM), which speeds up diffusion by operating in a lower-dimensional latent space. We first convert the
              LDM into a local image editor by incorporating Blended Diffusion into it. Next we propose an
              optimization-based solution for the inherent inability of this LDM to accurately reconstruct images.
              Finally, we address the scenario of performing local edits using thin masks. We evaluate our method
              against the available baselines both qualitatively and quantitatively and demonstrate that in addition to
              being faster, our method achieves better precision than the baselines while mitigating some of their
              artifacts.
            </p>
          </div>
        </div>
      </div>
      <!--/ Abstract. -->
    </div>
  </section>

  <!-- Method explanation -->
  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-12">
          <h2 class="title is-3">Method</h2>

          <div class="content has-text-justified">
            <p>
              <span class="method-name">Blended Latent Diffusion</span> aims to offer a solution for the task of
              <strong>local</strong> text-driven editing of <strong>generic</strong> images that was introduced in
              <a href="https://omriavrahami.com/blended-diffusion-page/">Blended Diffusion</a> paper. Blended Diffusion
              suffered from a slow inference time (getting a good result requires about 25 minutes on a single GPU) and
              pixel-level artifacts.
            </p>

            <p>
              In order to address these issues, we offer to incorporate Blended Diffusion into the text-to-image
              <a href="https://github.com/CompVis/latent-diffusion">Latent Diffusion Model</a>. In order to do so, we
              operate on the latent space and repeatedly blend foreground and the bacgkround parts in this latent space,
              as the diffusion progresses in the following way:
            </p>

            <div class="container">
              <img src="./static/images/method_illustration.png" />
              <br />
            </div>

            <p>
              Operating on the latent space indeed enjoys a fast inference speed, however, it suffers from an imperfect
              reconstruction of the unmasked area and it is unable to handle thin masks. For more details on how we
              addressed these problems please read the paper.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Background Replacement -->
  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-12">
          <h3 class="title is-4">Background Replacement</h3>
          <div class="content has-text-justified">
            <p>
              Given a source image and a mask of the background, <span class="method-name">Blended Latent
                Diffusion</span> is able to replace the background according to the text description. Note that the
              famous landmarks are not meant to accurately appear in the new background, but serve as an inspiration for
              the image completion.
            </p>
          </div>

          <section class="hero is-light is-small">
            <div class="hero-body">
              <div class="container">
                <div id="results-carousel" class="carousel results-carousel">
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/img.jpg" width="100%" />
                    <p class="subtitle">Input image</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/mask_overlay.jpg" width="100%" />
                    <p class="subtitle">Input mask</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/beach.jpg" width="100%" />
                    <p class="subtitle">"beach"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/mountain.jpg" width="100%" />
                    <p class="subtitle">"big mountain"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/Giza.jpg" width="100%" />
                    <p class="subtitle">"The Great Pyramid of Giza"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/acropolios.jpg" width="100%" />
                    <p class="subtitle">"Acropolis"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/Arc_de_Triomphe.jpg" width="100%" />
                    <p class="subtitle">"Arc de Triomphe"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/big_waterfall.jpg" width="100%" />
                    <p class="subtitle">"big waterfall"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/China.jpg" width="100%" />
                    <p class="subtitle">"China"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/Colosseum.jpg" width="100%" />
                    <p class="subtitle">"Colosseum"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/fire.jpg" width="100%" />
                    <p class="subtitle">"fire"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/Golden_Gate_Bridge.jpg" width="100%" />
                    <p class="subtitle">"Golden Gate Bridge"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/Machu_Picchu.jpg" width="100%" />
                    <p class="subtitle">"Machu Picchu"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/mount fuji.jpg" width="100%" />
                    <p class="subtitle">"Mount Fuji"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/New_York_City.jpg" width="100%" />
                    <p class="subtitle">"New York City"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/nuclear-power-plant.jpg" width="100%" />
                    <p class="subtitle">"nuclear power plant"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/petra.jpg" width="100%" />
                    <p class="subtitle">"Petra"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/rainy.jpg" width="100%" />
                    <p class="subtitle">"rainy"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/river.jpg" width="100%" />
                    <p class="subtitle">"river"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/Stanford_university.jpg" width="100%" />
                    <p class="subtitle">"Stanford University"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/Stonehenge.jpg" width="100%" />
                    <p class="subtitle">"Stonehenge"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/sunny.jpg" width="100%" />
                    <p class="subtitle">"sunny"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/sunrise.jpg" width="100%" />
                    <p class="subtitle">"sunrise"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/swimming pool.jpg" width="100%" />
                    <p class="subtitle">"swimming pool"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/volcanic_eruption.jpg" width="100%" />
                    <p class="subtitle">"volcanic eruption"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/winter.jpg" width="100%" />
                    <p class="subtitle">"winter"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/green_hills.jpg" width="100%" />
                    <p class="subtitle">"green hills"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/desert.jpg" width="100%" />
                    <p class="subtitle">"desert"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/big_lake.jpg" width="100%" />
                    <p class="subtitle">"big lake"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/forset.jpg" width="100%" />
                    <p class="subtitle">"forest"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/dusty_road.jpg" width="100%" />
                    <p class="subtitle">"dusty road"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/horses_stable.jpg" width="100%" />
                    <p class="subtitle">"horses stable"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/background_replacement/houses.jpg" width="100%" />
                    <p class="subtitle">"houses"</p>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  </section>

  <!-- Adding a New Object -->
  <section class="section">
    <div class="container is-max-desktop">
      <div class="columns is-centered has-text-centered">
        <div class="column is-12">
          <h3 class="title is-4">Adding a New Object</h3>
          <div class="content has-text-justified">
            <p>
              Given a source image and a mask of an area to edit, <span class="method-name">Blended Latent
                Diffusion</span> is able to add a new object in the masked area seamlessly.
            </p>
          </div>

          <section class="hero is-light is-small">
            <div class="hero-body">
              <div class="container">
                <div id="results-carousel" class="carousel results-carousel">
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/img.jpg" width="100%" />
                    <p class="subtitle">Input image</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/mask_overlay.jpg" width="100%" />
                    <p class="subtitle">Input mask</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/gravestone2.jpg" width="100%" />
                    <p class="subtitle">"gravestone"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/toy_truck.jpg" width="100%" />
                    <p class="subtitle">"toy truck"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/pred_snake.jpg" width="100%" />
                    <p class="subtitle">"snake"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/big_stone2.jpg" width="100%" />
                    <p class="subtitle">"big stone"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/bread1.jpg" width="100%" />
                    <p class="subtitle">"bread"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/Buddha.jpg" width="100%" />
                    <p class="subtitle">"Buddha"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/car_tire1.jpg" width="100%" />
                    <p class="subtitle">"car tire"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/clay_pot1.jpg" width="100%" />
                    <p class="subtitle">"clay pot"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/cola0.jpg" width="100%" />
                    <p class="subtitle">"cola"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/egg1.jpg" width="100%" />
                    <p class="subtitle">"egg"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/glow_stick1.jpg" width="100%" />
                    <p class="subtitle">"glow stick"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/ice_cube.jpg" width="100%" />
                    <p class="subtitle">"ice cube"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/lamp2.jpg" width="100%" />
                    <p class="subtitle">"lamp"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/milk1.jpg" width="100%" />
                    <p class="subtitle">"milk"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/pile_of_dirt1.jpg" width="100%" />
                    <p class="subtitle">"pile of dirt"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/pile_of_gold1.jpg" width="100%" />
                    <p class="subtitle">"pile of gold"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/tooth1.jpg" width="100%" />
                    <p class="subtitle">"tooth"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/black_chair.jpg" width="100%" />
                    <p class="subtitle">"black chair"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/white_chair.jpg" width="100%" />
                    <p class="subtitle">"white chair"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/bonfire.jpg" width="100%" />
                    <p class="subtitle">"bonfire"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/stones.jpg" width="100%" />
                    <p class="subtitle">"stones"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/black_stones.jpg" width="100%" />
                    <p class="subtitle">"black stones"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/green_stones.jpg" width="100%" />
                    <p class="subtitle">"green stones"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/purple_stones.jpg" width="100%" />
                    <p class="subtitle">"purple stones"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/red_ball.jpg" width="100%" />
                    <p class="subtitle">"red ball"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/yellow_ball.jpg" width="100%" />
                    <p class="subtitle">"yellow ball"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/huge_ant.jpg" width="100%" />
                    <p class="subtitle">"huge ant"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/smoke.jpg" width="100%" />
                    <p class="subtitle">"smoke"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/toy_car.jpg" width="100%" />
                    <p class="subtitle">"toy car"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/water_puddle.jpg" width="100%" />
                    <p class="subtitle">"water puddle"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/huge_apple.jpg" width="100%" />
                    <p class="subtitle">"huge apple"</p>
                  </div>
                  <div class="item has-text-centered">
                    <img src="./static/images/add_a_new_object/yellow_toy_truck.jpg" width="100%" />
                    <p class="subtitle">"yellow toy truck"</p>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  </section>

  <!-- 
  <section class="section" id="BibTeX">
    <div class="container is-max-desktop content">
      <h2 class="title">BibTeX</h2>
      <p>If you find this research useful, please cite the following:</p>

      <pre><code>@article{avrahami2021blended,
  title={Blended diffusion for text-driven editing of natural images},
  author={Avrahami, Omri and Lischinski, Dani and Fried, Ohad},
  journal={arXiv preprint arXiv:2111.14818},
  year={2021}
}</code></pre>
    </div>
  </section> -->


  <footer class="footer">
    <div class="container">
      <div class="content has-text-centered">
        <a class="icon-link" href="https://arxiv.org/abs/2111.14818">
          <i class="fas fa-file-pdf"></i>
        </a>
        <a class="icon-link" href="https://github.com/omriav/blended-diffusion" class="external-link" disabled>
          <i class="fab fa-github"></i>
        </a>
      </div>
      <div class="columns is-centered">
        <div class="column is-8">
          <div class="content">
            <p>
              Was adapted from <a href="https://github.com/nerfies/nerfies.github.io">this</a> source code.
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>

</body>

</html>